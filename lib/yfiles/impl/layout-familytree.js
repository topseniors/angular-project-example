/****************************************************************************
 **
 ** This file is part of yFiles for HTML 2.0.1.3.
 ** 
 ** yWorks proprietary/confidential. Use is subject to license terms.
 **
 ** Copyright (c) 2017 by yWorks GmbH, Vor dem Kreuzberg 28, 
 ** 72070 Tuebingen, Germany. All rights reserved.
 **
 ***************************************************************************/
!function(a){!function(b){"function"==typeof define&&define.amd?define(["./lang","./core-lib","./algorithms","./layout-core","./layout-hierarchic","./layout-router"],b):"object"==typeof exports&&"undefined"!=typeof module&&"object"==typeof module.exports?module.exports=b(require("./lang"),require("./core-lib"),require("./algorithms"),require("./layout-core"),require("./layout-hierarchic"),require("./layout-router")):b(a.yfiles.lang,a.yfiles)}(function(a,b){return function(a,b,c,d){"use strict";function e(a,b,c){for(var d=0,e=0,f=b.$dgA();f.$gP;f.$IU()){var g=f.$sP;1===c.$TV(g)?g.$f3>0&&e++:d+=g.$f2}return e<=1&&2===d}function f(b,c,d,f){for(var g=d.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY),h=b.$f.$f11.$dgA();h.$gP;h.$IU()){var i=h.$sP,j=c.$bqA(i);if(e(b,j,g)){f.$IL(i,!0);for(var k=j.$dgA();k.$gP;k.$IU()){var l=k.$sP;if(1!==g.$TV(l))for(var m=l.$ktA(null);m.$gP;m.$IU())b.$f.$f4.$ua(m.$rP,null)}}}}function g(b,c,d,e,f){for(var g=c.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY),h=b.$f.$f11.$dgA();h.$gP;h.$IU()){var i=h.$sP;if(e.$CL(i)){for(var j=d.$bqA(i),k=null,l=null,m=j.$dgA();m.$gP;m.$IU()){var n=m.$sP;1!==g.$TV(n)&&n.$f2>0&&(null===k?k=n:l=n)}if(null!==k&&null!==l){var o=c.$LpA(k),p=c.$LpA(l),q=f.$m(k.$f8).$f,r=f.$m(l.$f8).$f;if(o>p&&q<r||o<p&&q>r)for(var s=c.$atA(i),m=j.$dgA();m.$gP;m.$IU()){var n=m.$sP,t=s.$f+s.$f3-(c.$LpA(n)-s.$f);c.$hIB(n,t,c.$MpA(n))}}}}}function h(b,c,d,e){for(var f=c.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY),g=b.$f.$f11.$dgA();g.$gP;g.$IU()){var h=g.$sP;if(e.$CL(h))for(var i=d.$bqA(h),j=i.$dgA();j.$gP;j.$IU()){var k=j.$sP;if(1!==f.$TV(k))for(var l=k.$ktA(null);l.$gP;l.$IU()){var m=l.$rP;c.$SHA(m,new a.C.MPA.$B(0,-c.$m43(k).$MR/2)),b.$f.$f4.$ua(m,a.T.VWB.$B(1,!0))}}}}function i(b,c){b.$f20=a.T.ARA.$M();var d=c.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY);if(null!==d)for(var e=c.$cjA();e.$gP;e.$IU()){var f=e.$sP;1===d.$TV(f)&&b.$f20.$Bb(f,f.$f3)}}function j(b,c){b.$f21=a.T.ARA.$M();var d=c.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY);if(null!==d)for(var e=c.$cjA();e.$gP;e.$IU()){var f=e.$sP;1===d.$TV(f)&&b.$f21.$Bb(f,f.$f2)}}function k(b,c,d){var e=c.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY);b.$f16=c.$ZjA(),b.$f17=c.$ZjA(),b.$f3=c.$ZjA(),b.$f4=c.$ZjA(),b.$f12 instanceof a.C.RZB&&0!==b.$f19&&(b.$f=b.$f12.$ODA(c)),l(b,c,d);for(var f=c.$cjA();f.$gP;f.$IU()){var g=f.$sP;if(1===c.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY).$TV(g)){for(var h=null,i=g.$GvA(null);i.$gP;i.$IU()){var j=i.$rP.$f3;null===h&&(h=j),c.$QHA(i.$rP,new a.C.MPA.$B(0,c.$m43(i.$rP.$f2).$MR/2)),c.$SHA(i.$rP,new a.C.MPA.$B(0,-c.$m43(i.$rP.$f3).$MR/2)),b.$f3.$ua(i.$rP,a.T.VWB.$B(2,!0)),b.$f4.$ua(i.$rP,a.T.VWB.$B(1,!0)),null!==b.$f&&h!==j&&(2!==(4===b.$f19||3===b.$f19)===e.$TV(j)?b.$f.$od(h,j):b.$f.$qd(h,j))}for(var k=new a.HD,m="CG"+g.$Yl,n=g.$GvA(null);n.$gP;n.$IU()){var o=n.$rP;b.$f16.$ua(o,m);var p=b.$f15.$TV(o.$f3);null!==p&&-1!==k.$tO(p)||(b.$f17.$ua(o,m),null!==p&&k.$m(p))}}}c.$TGA(a.T.XWB.SOURCE_GROUP_ID_DP_KEY,b.$f16),c.$TGA(a.T.XWB.TARGET_GROUP_ID_DP_KEY,b.$f17),c.$TGA(a.T.XWB.SOURCE_PORT_CONSTRAINT_DP_KEY,b.$f3),c.$TGA(a.T.XWB.TARGET_PORT_CONSTRAINT_DP_KEY,b.$f4)}function l(b,c,d){b.$f5=a.JE.$m14(c.$ev),b.$f1=new a.HD;var e=new a.HD;b.$f11=new a.C.KQA.$A,b.$f2=c.$ajA(),b.$f15=c.$ajA(),b.$f6=c.$ajA(),b.$f9=c.$ajA(),b.$f8=c.$ajA();for(var f=c.$cjA();f.$gP;f.$IU()){var g=new a.C.KQA.$A,h=f.$sP;b.$f2.$ua(h,"n"+h.$Yl),1===c.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY).$TV(h)?m(b,h,g):n(b,h,g);var i=new a.HD;i.$m(g),o(b,g,i);for(var j=0;j<i.$qJ;j++)if(g=i.$uJ(j),g.$f1>1){for(var k=new a.TF.$c1("GN"),l=0;l<g.$f1;l++)k.$m2(a.KE.$m8(g.$uJ(l).$Yl)),k.$m2("/");e.$m(k.toString()),b.$f1.$m(g)}}for(var p=0;p<b.$f1.$qJ;p++){var q=new a.C.DPA(0,0,0,0),r=c.$biA(),g=b.$f1.$uJ(p);b.$f11.$m3(r);for(var s=0;s<g.$f1;s++){var t=g.$uJ(s);b.$f15.$ua(t,e.$uJ(p)),b.$f9.$ua(t,d),b.$f8.$ua(t,q)}b.$f8.$ua(r,q),b.$f6.$IL(r,!0),b.$f2.$ua(r,e.$uJ(p))}c.$TGA(a.T.IUB.NODE_ID_DP_KEY,b.$f2),c.$TGA(a.T.IUB.PARENT_NODE_ID_DP_KEY,b.$f15),c.$TGA(a.T.IUB.GROUP_DP_KEY,b.$f6),c.$TGA(a.T.IUB.GROUP_NODE_INSETS_DP_KEY,b.$f8),c.$TGA(a.T.UVB.LAYOUT_DP_KEY,b.$f9)}function m(b,c,d){if(1!==c.$f1.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY).$TV(c))throw a.WE.$m29(v[4]);if(!b.$f5[c.$Yl]){d.$m3(c),b.$f5[c.$Yl]=!0;for(var e=0,f=c.$tkA();f.$gP;f.$IU())if(n(b,f.$sP,d),++e>2)throw a.WE.$m29(v[5])}}function n(b,c,d){if(1===c.$f1.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY).$TV(c))throw a.WE.$m29(v[6]);if(!b.$f5[c.$Yl]){d.$m3(c),b.$f5[c.$Yl]=!0;for(var e=c.$lkA();e.$gP;e.$IU())m(b,e.$sP,d)}}function o(b,c,d){var e=-1,f=-1;for(e=0;e<c.$f1;e++){var g=c.$uJ(e);if(1===g.$f1.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY).$TV(g)){for(var h=g.$lkA();h.$gP&&!((f=c.$tO(h.$sP))>-1);h.$IU());if(f>-1)break}}if(-1!==f){var i=new a.C.KQA.$A,j=c.$uJ(e),k=c.$uJ(f),l=new a.C.KQA.$A;c.$sO(k),i.$m3(k);for(var h=k.$lkA();h.$gP;h.$IU()){var m=h.$sP;c.$sO(m),i.$m3(m);for(var n=m.$tkA();n.$gP;n.$IU()){var q=n.$sP;q!==k&&(p(b,m,q,j,k)?r(b,m,c,i):l.$m3(m))}}for(var h=l.$dgA();h.$gP;h.$IU())for(var s=h.$sP,t=s.$ktA(null);t.$gP;t.$IU())if(t.$rP.$f2!==k){var u=k.$f1;u.$QHA(t.$rP,new a.C.MPA.$B(0,0)),u.$SHA(t.$rP,new a.C.MPA.$B(0,0)),b.$f3.$ua(t.$rP,a.T.VWB.$B(0,!0)),b.$f4.$ua(t.$rP,a.T.VWB.$B(0,!0))}o(b,c,d),o(b,i,d),d.$m(i)}}function p(b,c,d,e,f){return q(b,c,d,e,f,new a.OD)}function q(b,c,d,e,f,g){if(!a.MD.$m9(g,new a.T.KYB.T(c,d)))return!0;for(var h=d.$lkA();h.$gP;h.$IU()){var i=h.$sP;if(i!==c){if(i===e)return!1;for(var j=i.$tkA();j.$gP;j.$IU()){var k=j.$sP;if(k!==d){if(k===f)return!0;if(!q(b,i,k,e,f,g))return!1}}}}return!0}function r(a,b,c,d){for(var e=b.$tkA();e.$gP;e.$IU()){var f=e.$sP;if(!(c.$tO(f)<0)){c.$sO(f),d.$m3(f);for(var g=f.$lkA();g.$gP;g.$IU()){var h=g.$sP;c.$tO(h)>-1&&(c.$sO(h),d.$m3(h),r(a,h,c,d))}}}}function s(b,c){null!==b.$f16&&(c.$GxA(a.T.XWB.SOURCE_GROUP_ID_DP_KEY),c.$nsA(b.$f16),b.$f16=null),null!==b.$f17&&(c.$GxA(a.T.XWB.TARGET_GROUP_ID_DP_KEY),c.$nsA(b.$f17),b.$f17=null),null!==b.$f3&&(c.$GxA(a.T.XWB.SOURCE_PORT_CONSTRAINT_DP_KEY),c.$nsA(b.$f3),b.$f3=null),null!==b.$f4&&(c.$GxA(a.T.XWB.TARGET_PORT_CONSTRAINT_DP_KEY),c.$nsA(b.$f4),b.$f4=null),null!==b.$f8&&(c.$GxA(a.T.IUB.GROUP_NODE_INSETS_DP_KEY),c.$osA(b.$f8),b.$f8=null),null!==b.$f9&&(c.$GxA(a.T.UVB.LAYOUT_DP_KEY),c.$osA(b.$f9),b.$f9=null),null!==b.$f2&&(c.$GxA(a.T.IUB.NODE_ID_DP_KEY),c.$osA(b.$f2),b.$f2=null),null!==b.$f15&&(c.$GxA(a.T.IUB.PARENT_NODE_ID_DP_KEY),c.$osA(b.$f15),b.$f15=null),null!==b.$f6&&(c.$GxA(a.T.IUB.GROUP_DP_KEY),c.$osA(b.$f6),b.$f6=null),null!==b.$f&&(b.$f.$gU(),b.$f=null)}function t(b,c,d,e,f){for(var g=new a.C.KQA.$A,h=f.$lkA();h.$gP;h.$IU()){var i=h.$sP;if(d.$sO(i)){var j=u(b,i,f,new a.C.KQA.$C(f));b.$f3.$Bb(i,j),g.$m3(i)}}g.$qlA(b.$f2);var k=f.$f1.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY),l=!1;if(1===g.$f1&&e.$tO(f)===e.$f1-1&&(l=!0),2===b.$f.$f19||4===b.$f.$f19)for(var m=0;m<g.$f1;m++)4===b.$f.$f19===2===k.$TV(f)?e.$m3(g.$uJ(m)):e.$xO(0,g.$uJ(m));else if(0!==b.$f.$f19&&1===e.$f1&&1===g.$f1)3===b.$f.$f19===2===k.$TV(f)?e.$m3(g.$uJ(0)):e.$xO(0,g.$uJ(0));else for(var n=e.$tO(f),o=e.$tO(f)+1,m=0;m<g.$f1;m++)m%2!==0||l?e.$xO(o,g.$uJ(m)):e.$xO(n,g.$uJ(m)),o++;for(var p=new a.C.KQA.$A,m=0;m<g.$f1;m++){for(var q=!1,i=g.$uJ(m),r=null,s=i.$tkA();s.$gP;s.$IU())if((r=s.$sP)!==f){q=!0;break}if(c.$sO(r)){p.$m3(r);var v=e.$tO(i);e.$tO(f)>v?e.$xO(e.$tO(i),r):e.$xO(e.$tO(i)+1,r)}else if(q){var w=0;e.$sO(i);for(var s=i.$tkA();s.$gP;s.$IU())w=Math.max(e.$tO(s.$sP),w);e.$xO(w,i)}}g=null;for(var m=0;m<p.$f1;m++)t(b,c,d,e,p.$uJ(m))}function u(a,b,c,d){for(var e=1,f=b.$tkA();f.$gP;f.$IU()){var g=f.$sP;if(g!==c&&-1===d.$tO(g)){d.$m3(g);for(var h=g.$lkA();h.$gP;h.$IU()){var i=h.$sP;i!==b&&(e+=u(a,i,g,d))}}}return e}b.lang.addMappings("yFiles-for-HTML-Complete-2.0.1.3-Evaluation (Build c5516864459e-11/02/2017)",{_$_mid:["alignment","$Px"],_$_nid:["topLayout","$Qx"],_$_mme:["partnerlessBelow","$DOA"],_$_kcf:["offsetForFamilyNodes","$TWA"],_$_rif:["familyNodesAlwaysBelow","$bZA"],_$_arf:["familyMembersSortingPolicy","$mdA"],_$_srf:["spacingBetweenFamilyMembers","$EeA"],_$_whl:["FamilyTreeLayout","KYB"],_$_xhl:["FamilyType","LYB"],_$_yhl:["VerticalNodeAlignment","MYB"],_$_zhl:["FamilyMembersSortingPolicy","NYB"],_$$_ana:["yfiles.genealogy","yfiles._R.T","yfiles._R.C"]});var v=["Unknown alignment.","DataProvider "," is not registered to the graph.","FamilyTypeDpKey","Direct link between two individuals","Family node has more than two parent nodes","Direct link between two family nodes"];b.lang.module("_$$_ana",function(c){c._$_whl=new b.lang.ClassDefinition(function(){return{$extends:a.C.XVB,constructor:function(){a.C.XVB.call(this),this.$$init$$1(),this.$f=null,this.$tZA=!1,this.$SQA.$uz=12,this.$f12=null},$f16:null,$f17:null,$f3:null,$f4:null,$f9:null,$f2:null,$f15:null,$f6:null,$f8:null,$f20:null,$f21:null,$f12:null,$f22:!0,$f13:30,$f14:10,$f10:!0,$f18:!1,$f7:null,_$_nid:{get:function(){if(null===this.$f12){var b=new a.C.RZB,c=b.$cWA;c.$cD=new a.C.OAC(0),c.$EdA=60,c.$EcA=20;var d=b.$iWA;switch(this.$f7){case-1:d.$OJA=0;break;case 0:d.$OJA=.5;break;case 1:d.$OJA=1}this.$f12=b}return this.$f12},set:function(a){this.$f12=a}},"$m!":function(){if(!this.$f22||0!==this.$f19)return!1;var b=this.$Qx;return a.C.CVB.isInstance(b)&&(b=b.$FS),b instanceof a.C.RZB},_$_srf:{get:function(){return this.$f13},set:function(b){if(b<0)throw a.WE.$m2();this.$f13=b}},_$_kcf:{get:function(){return this.$f14},set:function(b){if(b<0)throw a.WE.$m2();this.$f14=b}},_$_mme:{get:function(){return this.$f10},set:function(a){this.$f10=a}},_$_rif:{get:function(){return this.$f18},set:function(a){this.$f18=a}},_$_mid:{get:function(){return this.$f7},set:function(b){var c=0;switch(0|b){case 1:c=1;break;case 0:c=.5;break;case-1:c=0;break;default:throw a.WE.$m18(v[0])}null!==this.$f12&&this.$f12 instanceof a.C.RZB&&(this.$f12.$iWA.$OJA=c),this.$f7=0|b}},$LdA:{set:function(a){this.$f47=a}},$MYA:{set:function(a){this.$f31=a}},$f19:0,$f:null,_$_arf:{get:function(){return this.$f19},set:function(b){switch(0|b){case 0:case 1:case 2:case 3:case 4:this.$f19=0|b;break;default:throw a.WE.$m2()}}},$AvA:function(c){if(null===c.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY))throw a.WE.$m27(v[1]+a.T.KYB.FAMILY_TYPE_DP_KEY+v[2]);var d=new a.C.ZQA(c),e=c.$htA(a.T.IUB.GROUP_DP_KEY),f=c.$htA(a.T.IUB.PARENT_NODE_ID_DP_KEY),g=c.$htA(a.T.IUB.NODE_ID_DP_KEY),h=c.$htA(a.T.IUB.GROUP_NODE_INSETS_DP_KEY),l=new a.C.ZQA(c),m=null,n=a.T.ARA.$M(),o=a.T.ARA.$M(),p=a.T.ARA.$M(),q=a.T.ARA.$M(),r=a.T.ARA.$K(),t=null;if(i(this,c),j(this,c),null!==e){m=c.$ZjA();for(var u=!1,w=c.$bjA();w.$gP;w.$IU()){var x=w.$rP;e.$CL(x.$f2)!==e.$CL(x.$f3)?(m.$IL(x,!0),l.$llA(x),u=!0):m.$IL(x,!1)}u||(c.$nsA(m),m=null);for(var y=c.$cjA();y.$gP;y.$IU()){var z=y.$sP;e.$CL(z)&&(r.$ua(g.$TV(z),z),d.$nlA(z),n.$IL(z,!0),o.$ua(z,f.$TV(z)),p.$ua(z,g.$TV(z)),q.$ua(z,h.$TV(z)))}null!==e&&c.$GxA(a.T.IUB.GROUP_DP_KEY),null!==f&&c.$GxA(a.T.IUB.PARENT_NODE_ID_DP_KEY),null!==g&&c.$GxA(a.T.IUB.NODE_ID_DP_KEY),null!==h&&c.$GxA(a.T.IUB.GROUP_NODE_INSETS_DP_KEY)}var A=new a.T.KYB.T1(this);if(k(this,c,A),null!==e){for(var B=new a.C.JUB(c),y=c.$cjA();y.$gP;y.$IU()){var z=y.$sP;if(B.$dqA(z)){var C=new a.HD;n.$IL(z,!1);for(var D=B.$bqA(z).$m1();D.$p;){var E=D.$m(),F=f.$TV(E);if(null!==F){for(var G=0;G<C.$qJ;G++)if(F===f.$TV(C.$uJ(G))){F=null;break}null!==F&&C.$m(E)}}if(0===C.$qJ){var E=B.$bqA(z).$GiA();o.$ua(z,f.$TV(E)),p.$ua(z,g.$TV(E))}else if(o.$ua(z,f.$TV(C.$uJ(0))),p.$ua(z,g.$TV(C.$uJ(0))),C.$qJ>1){for(var H=0;H<C.$qJ;H++)for(var I=r.$TV(f.$TV(C.$uJ(H))),J=0;J<C.$qJ;J++){var K=r.$TV(f.$TV(C.$uJ(J)));b.lang.Object.equals(g.$TV(K),f.$TV(I))&&C.$m2(J)}if(o.$ua(z,f.$TV(C.$uJ(0))),p.$ua(z,g.$TV(C.$uJ(0))),1===C.$qJ);else{null===t&&(t=new a.C.KQA.$A);var L=c.$biA();t.$m3(L),n.$IL(L,!0),p.$ua(L,L);for(var G=1;G<C.$qJ;G++)for(var M=C.$uJ(0),N=!1;null!==M;){for(var O=r.$TV(f.$TV(M)),P=C.$uJ(G);null!==P;){var Q=r.$TV(f.$TV(P));if(Q===O){if(C.$uJ(0)!==M)for(var R=0;R<G;R++)C.$yJ(R,M);C.$yJ(G,P),N=!0;break}P=Q}if(N)break;for(var R=0;R<G;R++)C.$yJ(R,M);M=O}for(var G=0;G<C.$qJ;G++)o.$ua(C.$uJ(G),L);o.$ua(L,f.$TV(C.$uJ(0))),d.$nlA(L)}}}else n.$IL(z,!1),o.$ua(z,f.$TV(z)),p.$ua(z,g.$TV(z))}B.$phA()}var S=new a.T.KYB.T2(this,this.$Qx),T=new a.T.KYB.T4(d,e,n,o,p,q,S),U=new a.C.UVB;U.$FS=T;var V=new a.C.PUB.$A(U);V.$KJA=this.$m();try{new a.T.KYB.T3(this,V,A,S).$QW(c)}finally{s(this,c),null!==e&&c.$TGA(a.T.IUB.GROUP_DP_KEY,e),null!==f&&c.$TGA(a.T.IUB.PARENT_NODE_ID_DP_KEY,f),null!==g&&c.$TGA(a.T.IUB.NODE_ID_DP_KEY,g),null!==h&&c.$TGA(a.T.IUB.GROUP_NODE_INSETS_DP_KEY,h)}if(d.$KiA(),null!==t){for(var G=0;G<t.$f1;G++)c.$roA(t.$uJ(G));t=null}if(l.$KiA(),null!==this.$f1)for(var G=0;G<this.$f1.$qJ;G++)c.$roA(this.$f11.$uJ(G));if(null!==m){c.$TGA(a.T.CEC.AFFECTED_EDGES_DP_KEY,m);var W=new a.C.EEC;W.$sSA=a.T.CEC.AFFECTED_EDGES_DP_KEY;try{W.$QW(c)}finally{c.$GxA(a.T.CEC.AFFECTED_EDGES_DP_KEY),c.$nsA(m)}}},$f5:null,$f1:null,$f11:null,$$init$$1:function(){this.$f7=0},$static:{FAMILY_TYPE_DP_KEY:null,T2:new b.lang.ClassDefinition(function(){return{$extends:a.C.VVB,$final:!0,constructor:function(b,c){a.C.VVB.call(this,c),this.$f=b,this.$f1=a.T.ARA.$L()},$f1:null,"$m!":function(a){return this.$f1.$TV(a)},"$QW!":function(a){if(this.$FS.$QW(a),this.$f.$m())for(var b=a.$cjA();b.$gP;b.$IU())for(var c=b.$sP,d=c.$ktA(null);d.$gP;d.$IU()){var e=d.$rP;this.$f1.$ua(e,a.$CxA(e))}},$f:null}}),T3:new b.lang.ClassDefinition(function(){return{$extends:a.C.VVB,$final:!0,constructor:function(b,c,d,e){a.C.VVB.call(this,c),this.$f=b,this.$f2=d,this.$f1=e},$f2:null,$f1:null,"$QW!":function(b){if(this.$f.$m()){var c=new a.C.JUB(b),d=a.T.ARA.$M();f(this,c,b,d),this.$FS.$QW(b),g(this,b,c,d,this.$f1),h(this,b,c,d),b.$TGA(a.T.IUB.GROUP_NODE_INSETS_DP_KEY,this.$f.$f8);var e=this.$f1.$FS;e.$kz=0,this.$f2.$f1=!0,this.$FS.$QW(b),e.$kz=1,this.$f2.$f1=!1,b.$GxA(a.T.RZB.INCREMENTAL_HINTS_DP_KEY),c.$phA()}else this.$FS.$QW(b)},$f:null}}),T4:new b.lang.ClassDefinition(function(){return{$extends:a.C.VVB,$final:!0,constructor:function(b,c,d,e,f,g,h){a.C.VVB.call(this,h),this.$f=b,this.$f1=c,this.$f2=d,this.$f5=e,this.$f4=f,this.$f3=g},"$QW!":function(b){var c=new a.C.KQA.$B(this.$f.$qkA());this.$f.$KiA(),null!==this.$f1&&(b.$TGA(a.T.IUB.GROUP_DP_KEY,this.$f2),b.$TGA(a.T.IUB.PARENT_NODE_ID_DP_KEY,this.$f5),b.$TGA(a.T.IUB.NODE_ID_DP_KEY,this.$f4),b.$TGA(a.T.IUB.GROUP_NODE_INSETS_DP_KEY,this.$f3)),this.$jWB(b),this.$f.$olA(c),b.$GxA(a.T.IUB.GROUP_DP_KEY),b.$GxA(a.T.IUB.PARENT_NODE_ID_DP_KEY),b.$GxA(a.T.IUB.NODE_ID_DP_KEY),b.$GxA(a.T.IUB.GROUP_NODE_INSETS_DP_KEY)},$f:null,$f1:null,$f2:null,$f5:null,$f4:null,$f3:null}}),T:new b.lang.ClassDefinition(function(){return{$final:!0,constructor:function(a,b){this.$f1=a,this.$f=b},$f1:null,$f:null,"equals!":function(a){if(this===a)return!0;if(null===a||b.lang.getType(this)!==b.lang.getType(a))return!1;var c=a;return this.$f===c.$f&&this.$f1===c.$f1},"hashCode!":function(){var a=this.$f1.hashCode();return a=31*a+this.$f.hashCode()}}}),T1:new b.lang.ClassDefinition(function(){return{$final:!0,$with:[a.C.AVB],constructor:function(b){this.$f=b,this.$f1=!1,this.$f3=a.T.ARA.$M(),this.$f2=new a.T.KYB.T1.T(this,this.$f3,this.$f.$f20)},$f1:!1,$f2:null,$f3:null,"$p!":{get:function(){return this.$f1},set:function(a){this.$f1=a}},"$QW!":function(b){if(1!==b.$ev){if(2===b.$ev&&this.$f.$f10&&this.$f.$f21.$ZV(b.$dv)<2&&this.$f.$f21.$ZV(b.$Ot)<2){for(var c=null,d=null,e=b.$cjA();e.$gP;e.$IU()){var f=e.$sP;1!==b.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY).$TV(f)?c=f:d=f}if(null!==c&&null!==d){var g=b.$m43(c),h=b.$m43(d);g.$Hc(-g.$sQ/2,0),h.$Hc(-h.$sQ/2,g.$MR+this.$f.$f14);for(var i=d.$ktA(null);i.$gP;i.$IU()){var j=i.$rP,k=b.$m42(j);k.$uU(),k.$YS=new a.C.MPA.$B(0,0),k.$ZS=new a.C.MPA.$B(0,0)}var l=this.$f.$f8.$TV(c),m=new a.C.DPA(l.top,l.left,-this.$f.$f14-b.$m43(d).$MR,l.right);return void this.$f.$f8.$ua(c,m)}}var n=new a.C.KQA.$A;if(this.$f1)n.$JmA(b.$cjA()),n.$qlA(new a.T.KYB.T1.T1(this,b));else{for(var o=new a.C.KQA.$A,p=new a.C.KQA.$A,e=b.$cjA();e.$gP;e.$IU()){var f=e.$sP;1!==b.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY).$TV(f)?o.$m3(f):p.$m3(f)}for(var q=null,r=0,s=0;s<o.$f1;s++){var u=o.$uJ(s);u.$lkA().$qP>r&&(r=u.$lkA().$qP,q=u)}o.$sO(q),n.$m3(q),t(this,o,p,n,q)}for(var v=new a.C.KQA.$A,w=new a.C.KQA.$A,x=new a.HD,y=0,z=0,A=Number.MAX_VALUE,s=0;s<n.$f1;s++){var f=n.$uJ(s),B=b.$m43(f);1===b.$htA(a.T.KYB.FAMILY_TYPE_DP_KEY).$TV(f)?(v.$m3(f),x.$m(s),B.$Hc(y+Math.max((this.$f.$f13-B.$sQ)/2,B.$sQ/4),-B.$MR/2),y=y+Math.max(1.5*B.$sQ,this.$f.$f13)|0):(w.$m3(f),A=Math.min(B.$MR,A),z=Math.max(B.$MR,z),B.$Hc(y,-B.$MR/2),y=y+B.$sQ|0)}if(0!==this.$f.$f7)for(var s=0;s<w.$f1;s++){var B=b.$m43(w.$uJ(s));1===this.$f.$f7?B.$Hc(B.$eP,-(B.$MR-A/2)):B.$Hc(B.$eP,-A/2)}for(var C=a.JE.$m10(n.$f1),D=-2,s=0;s<v.$f1;s++){var E=v.$uJ(s),F=!1,G=a.CE.$m8(x.$uJ(s));if(this.$f.$f18||D===G-1&&0===C[D])F=!0;else for(var H=E.$tkA();H.$gP;H.$IU()){var I=H.$sP,J=n.$tO(I)-G;if(Math.abs(J)>2){F=!0;break}}if(F)C[G]=1;else{for(var K=new a.C.MPA.$B(0,0),i=E.$ktA(null);i.$gP;i.$IU()){var j=i.$rP,k=b.$m42(j);if(k.$uU(),0===this.$f.$f7)k.$YS=K;else{var B=b.$m43(j.$f2);b.$PHA(j,new a.C.MPA.$B(B.$eP+B.$sQ/2,0))}k.$ZS=K}v.$m5(s),x.$m2(s),s--}D=G}var L,M=z/2;1===this.$f.$f7?M=A/2:-1===this.$f.$f7&&(M=z-A/2),L=M;for(var s=0;s<v.$f1;s++){for(var E=v.$uJ(s),N=a.CE.$m8(x.$uJ(s)),O=0,P=E.$tkA();P.$gP;P.$IU()){for(var Q=n.$tO(P.$sP),R=Math.min(N,Q),S=Math.max(N,Q),T=0,U=R;U<=S;U++)T+=C[U];O=Math.max(T,O)}var B=b.$m43(E),V=M+this.$f.$f14+(B.$MR+this.$f.$f14)*(O-1);B.$Hc(B.$eP,V),L=Math.max(L,V+B.$MR)}for(var W=0;W<w.$f1;W++){for(var u=w.$uJ(W),X=n.$tO(u),Y=0,Z=new a.C.QOA.$A,i=u.$GvA(null);i.$gP;i.$IU()){var j=i.$rP;C[n.$tO(j.$f3)]>0&&(Z.$m3(j),Y++)}if(Y>0){for(var $=b.$m43(u),_=$.$sQ/(Y+1),aa=a.JE.$m10(Z.$f1),ba=a.JE.$m10(Z.$f1),s=0;s<Z.$f1;s++){aa[s]=n.$tO(Z.$uJ(s).$f3)-X,aa[s]>0&&(aa[s]-=2*n.$f1),ba[s]=_;for(var U=0;U<s;U++)aa[s]>aa[U]?ba[U]+=_:ba[s]+=_}for(var s=0;s<Z.$f1;s++){var j=Z.$uJ(s),k=b.$m42(j);k.$uU(),k.$ZS=new a.C.MPA.$B(0,0);var ca=ba[s],da=b.$m43(j.$f3),ea=da.$fP+da.$MR/2,fa=b.$m43(u);k.$YS=new a.C.MPA.$B(ca-fa.$sQ/2,0),k.$Wb(fa.$eP+ca,ea)}}}var l=this.$f.$f8.$TV(w.$uJ(0)),ga=l.top,ha=l.bottom;null!==l&&0===this.$f.$f7?ga=L-M:null!==l&&1===this.$f.$f7&&(ha=M-L),this.$f.$f8.$ua(w.$uJ(0),new a.C.DPA(ga,l.left,ha,l.right))}},$f:null,$static:{T:new b.lang.ClassDefinition(function(){return{$final:!0,$with:[a.C.ORA],constructor:function(a,b,c){this.$f1=a,this.$f=b,this.$f2=c},$f:null,$f2:null,"$yO!":function(b,c){var d=a.T.UQA.$m(this.$f.$ZV(b),this.$f.$ZV(c));return 0!==d?d:a.T.UQA.$m(this.$f2.$ZV(b),this.$f2.$ZV(c))},$f1:null}}),T1:new b.lang.ClassDefinition(function(){return{$final:!0,$with:[a.C.ORA],constructor:function(a,b){this.$f1=a,this.$f=b},$f:null,"$yO!":function(b,c){return a.T.UQA.$I(this.$f.$LpA(b),this.$f.$LpA(c))},$f1:null}})}}}),$clinit:function(){a.T.KYB.FAMILY_TYPE_DP_KEY=new a.C.OOA(a.C.LYB.$class,a.C.KYB.$class,v[3])}}}})}),b.lang.module("_$$_ana",function(a){a._$_xhl=new b.lang.EnumDefinition(function(){return{FAMILY:1,MALE:2,FEMALE:3}})}),b.lang.module("_$$_ana",function(a){a._$_yhl=new b.lang.EnumDefinition(function(){return{TOP:-1,CENTER:0,BOTTOM:1}})}),b.lang.module("_$$_ana",function(a){a._$_zhl=new b.lang.EnumDefinition(function(){return{NO_SORTING:0,FEMALE_FIRST:1,FEMALE_ALWAYS_FIRST:2,MALE_FIRST:3,MALE_ALWAYS_FIRST:4}})})}(b.lang.module("yfiles._R"),b),b})}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);